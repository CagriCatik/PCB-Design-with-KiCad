<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-projects/project-stm32/overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">1. Project Overview &amp; Setup | PCB Design with KiCad</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://CagriCatik.github.io/PCB-Design-with-KiCad/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://CagriCatik.github.io/PCB-Design-with-KiCad/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://CagriCatik.github.io/PCB-Design-with-KiCad/docs/projects/project-stm32/overview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="1. Project Overview &amp; Setup | PCB Design with KiCad"><meta data-rh="true" name="description" content="1.1 Board Features"><meta data-rh="true" property="og:description" content="1.1 Board Features"><link data-rh="true" rel="icon" href="/PCB-Design-with-KiCad/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://CagriCatik.github.io/PCB-Design-with-KiCad/docs/projects/project-stm32/overview"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/PCB-Design-with-KiCad/docs/projects/project-stm32/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/PCB-Design-with-KiCad/docs/projects/project-stm32/overview" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/PCB-Design-with-KiCad/blog/rss.xml" title="PCB Design with KiCad RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/PCB-Design-with-KiCad/blog/atom.xml" title="PCB Design with KiCad Atom Feed"><link rel="stylesheet" href="/PCB-Design-with-KiCad/assets/css/styles.524557fc.css">
<script src="/PCB-Design-with-KiCad/assets/js/runtime~main.1657c5ee.js" defer="defer"></script>
<script src="/PCB-Design-with-KiCad/assets/js/main.09037839.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/PCB-Design-with-KiCad/"><div class="navbar__logo"><img src="/PCB-Design-with-KiCad/img/logo.png" alt="pcb logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/PCB-Design-with-KiCad/img/logo.png" alt="pcb logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"> </b></a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/getting_started/">Getting Started</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/pcb_design/what-is-a-pcb">PCB Design</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/kicad/introduction">KiCad</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/schematic-design/introduction">Schematic</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/layout/introduction">Layout</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/design_principles/introduction">Design Principles</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/category/schematic">Design Workflow</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/symbols_eeschema/introduction">Symbols Eeschema</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/footprints_pcbnew/introduction">Footprints Pcbnew</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/PCB-Design-with-KiCad/docs/projects/getting-started">Projects</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/recipes/getting-started">Recipes</a><a href="https://github.com/CagriCatik/PCB-Design-with-KiCad" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PCB-Design-with-KiCad/docs/projects/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/PCB-Design-with-KiCad/docs/category/project-voltage-regulator">Project: Voltage Regulator</a><button aria-label="Expand sidebar category &#x27;Project: Voltage Regulator&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/PCB-Design-with-KiCad/docs/category/project-mcu-datalogger">Project: MCU Datalogger</a><button aria-label="Expand sidebar category &#x27;Project: MCU Datalogger&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/PCB-Design-with-KiCad/docs/category/project-breadboard-power-supply">Project: Breadboard Power Supply</a><button aria-label="Expand sidebar category &#x27;Project: Breadboard Power Supply&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/PCB-Design-with-KiCad/docs/category/project-esp32">Project: ESP32</a><button aria-label="Expand sidebar category &#x27;Project: ESP32&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/PCB-Design-with-KiCad/docs/category/project-stm32">Project: STM32</a><button aria-label="Collapse sidebar category &#x27;Project: STM32&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/overview">1. Project Overview &amp; Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/schematic">2. Schematic Design Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/stm32">3. STM32 WB55 Microcontroller Power Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/rf_design">4. RF Section Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/oscillator">5. Oscillators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/programming_debugging">6. Programming &amp; Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/usb-c">7. USB-C Power &amp; Data Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/peripherials">8. Peripherals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/erc_footprints">9. ERC &amp; Footprints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/net_classes">10. Net Classes &amp; BOM</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/PCB-Design-with-KiCad/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/PCB-Design-with-KiCad/docs/category/project-stm32"><span itemprop="name">Project: STM32</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">1. Project Overview &amp; Setup</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>1. Project Overview &amp; Setup</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-board-features">1.1 Board Features<a href="#11-board-features" class="hash-link" aria-label="Direct link to 1.1 Board Features" title="Direct link to 1.1 Board Features">​</a></h2>
<p>The STM32 WB55CEU-based Bluetooth board is meticulously engineered to deliver robust performance and versatile functionality, integrating several core components essential for advanced embedded applications. Central to its architecture is the <strong>STM32 WB55CEU Microcontroller</strong>, which features a dual-core configuration comprising an ARM Cortex-M4 operating at 64 MHz and an ARM Cortex-M0+ operating at 32 MHz. This dual-core setup facilitates efficient multitasking and optimized power consumption, catering to both high-performance and low-power requirements.</p>
<p>The microcontroller incorporates an integrated Bluetooth 5.0 Low Energy (BLE) RF subsystem, enabling seamless wireless communication with enhanced data rates, extended range, and improved coexistence with other wireless technologies. Memory resources include 1 MB of Flash and 256 KB of SRAM, providing ample space for complex firmware and real-time data processing. Additionally, the microcontroller is equipped with hardware cryptographic acceleration, ensuring secure data transmission and storage, which is critical for applications requiring stringent security measures.</p>
<p>The STM32 WB55CEU is housed in a QFN-48 package with dimensions of 7×7 mm, featuring a 49th pin designated as an exposed thermal pad. This thermal management feature is vital for dissipating heat efficiently, thereby maintaining the reliability and longevity of the microcontroller during prolonged operation.</p>
<p>Complementing the microcontroller is the <strong>USB Type-C Connector</strong>, which supports dual-role power delivery (sink/source) and provides a full-speed USB 2.0 data interface. The inclusion of integrated Electrostatic Discharge (ESD) protection, specifically the ST USBLC6-2SC6 device, safeguards the D+ and D– data lines against voltage spikes, enhancing the board&#x27;s resilience in diverse operating environments.</p>
<p>The <strong>Tag Connect SWD Interface</strong> facilitates programming and debugging through a 6-pin ARM Serial Wire Debug (SWD) header (TC2050-IDC-NL). This interface is compatible with ST-LINK/V2 protocols, enabling efficient firmware upload and real-time tracing capabilities, which are indispensable for iterative development and troubleshooting.</p>
<p>For wireless communication, the board features a <strong>UFL Antenna Interface</strong> designed with a 50Ω impedance-matched RF output. The RF output employs a π-network comprising 0.8 pF, 2.7 nH, and 0.3 pF components, coupled with a TDK DLP11SN021SK2 low-pass filter operating in the 2.4–2.5 GHz bandpass range. This configuration effectively suppresses harmonics, mitigating electromagnetic interference (EMI) and ensuring optimal signal integrity for BLE operations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-tools">1.2 Tools<a href="#12-tools" class="hash-link" aria-label="Direct link to 1.2 Tools" title="Direct link to 1.2 Tools">​</a></h2>
<p>The design and development of the STM32 WB55CEU-based Bluetooth board leverage sophisticated software tools to ensure precision and efficiency. <strong>KiCad 7</strong> serves as the primary tool for schematic capture and PCB layout. It offers integrated SPICE simulation capabilities, allowing for comprehensive analysis and validation of circuit behavior prior to fabrication. KiCad 7&#x27;s support for custom symbol and footprint libraries, particularly for RF components such as UFL connectors, ensures that the board’s high-frequency pathways are accurately represented. Furthermore, KiCad 7 incorporates design rule checks (DRC) tailored for impedance-controlled routing and RF isolation, which are critical for maintaining signal integrity and minimizing crosstalk in high-speed designs.</p>
<p>For firmware development and hardware configuration, the <strong>STM32Cube IDE</strong> is employed. This integrated development environment facilitates the configuration of pin multiplexing for the STM32 WB55CEU’s General-Purpose Input/Output (GPIO) pins, allowing for flexible assignment of peripheral functions. The IDE also manages clock tree initialization, utilizing a 32 MHz High-Speed External (HSE) oscillator and a 32.768 kHz Low-Speed External (LSE) oscillator to support both high-frequency operations and precise Real-Time Clock (RTC) functionalities. Additionally, the STM32Cube IDE generates peripheral drivers for essential interfaces, including USB, the BLE stack, and the RTC, streamlining the development process and ensuring compatibility with the hardware design.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="13-design-flow">1.3 Design Flow<a href="#13-design-flow" class="hash-link" aria-label="Direct link to 1.3 Design Flow" title="Direct link to 1.3 Design Flow">​</a></h2>
<p>The design flow for the STM32 WB55CEU-based Bluetooth board encompasses several critical stages, including schematic design, PCB layout, and manufacturing, each meticulously executed to achieve a high-performance and reliable final product.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="131-schematic-design">1.3.1 Schematic Design<a href="#131-schematic-design" class="hash-link" aria-label="Direct link to 1.3.1 Schematic Design" title="Direct link to 1.3.1 Schematic Design">​</a></h3>
<p>The schematic design phase prioritizes robust power distribution, efficient RF subsystem integration, and a stable clock system. Power distribution is managed through a 3.3V regulation circuit utilizing the MIC5365-3.3YD Low Dropout Regulator (LDO), capable of supplying up to 150 mA with a maximum input voltage of 5.5V. To support low-power modes, a Switched-Mode Power Supply (SMPS) configuration is implemented, incorporating a 10 µH inductor and a 4.7 µF output capacitor, which collectively enhance power efficiency and reduce energy consumption during idle states.</p>
<p>Decoupling is addressed through a strategic topology that includes 100 nF Multilayer Ceramic Capacitors (MLCC) placed at each VDD pin to filter high-frequency noise, complemented by a 1 µF bulk capacitor situated at the VDDA pin to stabilize the analog supply voltage. This approach ensures minimal voltage ripple and enhances overall power integrity across the board.</p>
<p>The RF subsystem is meticulously designed with a π-network matching circuit tailored for the 2.4 GHz BLE frequency. The network consists of 0.8 pF, 2.7 nH, and 0.3 pF components, which collectively optimize impedance matching and minimize signal reflections. The UFL footprint, specifically the Hirose U.FL connector, is integrated with ground-plane stitching to mitigate EMI, thereby ensuring clean and reliable wireless communication.</p>
<p>Clock system stability is achieved through the incorporation of a 32 MHz MEMS oscillator (NX3225GD) paired with 10 pF load capacitors, providing a precise and stable reference for the microcontroller’s operations. Additionally, a 32.768 kHz crystal oscillator (NX2012SA) supports the RTC and low-power modes, facilitating accurate timekeeping and efficient power management during periods of reduced activity.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="132-pcb-layout">1.3.2 PCB Layout<a href="#132-pcb-layout" class="hash-link" aria-label="Direct link to 1.3.2 PCB Layout" title="Direct link to 1.3.2 PCB Layout">​</a></h3>
<p>The PCB layout adheres to a four-layer stackup configuration, comprising Top, Ground (GND), Power (PWR), and Bottom layers, constructed using an FR-4 substrate with a relative permittivity (εᵣ) of 4.5. The inclusion of a 0.2 mm prepreg layer serves to minimize interlayer capacitance, which is crucial for maintaining signal integrity in high-frequency circuits.</p>
<p>Critical routing paths are designed with precision to ensure optimal performance:</p>
<ul>
<li>
<p><strong>RF Trace</strong>: Implemented as a 50Ω coplanar waveguide with a width of 0.3 mm and a gap of 0.15 mm on the Top layer, the RF trace is engineered to support high-frequency signal transmission with minimal loss and reflection.</p>
</li>
<li>
<p><strong>USB D+/D– Lines</strong>: Routed as 90Ω differential pairs with a trace width of 0.2 mm and a spacing of 0.1 mm, these lines are designed to maintain differential signaling integrity, reducing susceptibility to external noise and ensuring compliance with USB 2.0 standards.</p>
</li>
<li>
<p><strong>SWD Signals</strong>: The Serial Wire Debug (SWD) signals are routed with a trace width of 10 mils and are flanked by guard traces. This configuration enhances noise immunity, protecting the integrity of programming and debugging signals from electromagnetic interference.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="133-manufacturing-pcbway">1.3.3 Manufacturing (PCBWay)<a href="#133-manufacturing-pcbway" class="hash-link" aria-label="Direct link to 1.3.3 Manufacturing (PCBWay)" title="Direct link to 1.3.3 Manufacturing (PCBWay)">​</a></h3>
<p>The manufacturing process is conducted through PCBWay, adhering to stringent fabrication standards to ensure high-quality output:</p>
<ul>
<li>
<p><strong>Gerber Files</strong>: The design is translated into layer-specific Gerber files, encompassing copper layers, solder mask layers, and silkscreen layers. These files comply with a 0.1 mm annular ring specification, ensuring reliable electrical connections and mechanical stability for plated through-holes (PTH) and vias.</p>
</li>
<li>
<p><strong>Drill Files</strong>: Drill files are provided in Excellon format, specifying precise hole locations and sizes for PTH and vias, which are critical for establishing robust electrical interconnections between layers.</p>
</li>
<li>
<p><strong>Assembly</strong>: Surface-Mount Technology (SMT) is employed for the assembly of 0402 passive components, maintaining a placement tolerance of 10 mils to ensure accurate positioning and soldering. The reflow soldering process utilizes a Pb-free SAC305 alloy, reaching a peak temperature of 245°C, which facilitates reliable solder joints while complying with environmental regulations regarding lead usage.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="14-key-design-validation-metrics">1.4 Key Design Validation Metrics<a href="#14-key-design-validation-metrics" class="hash-link" aria-label="Direct link to 1.4 Key Design Validation Metrics" title="Direct link to 1.4 Key Design Validation Metrics">​</a></h2>
<p>Ensuring the STM32 WB55CEU-based Bluetooth board meets stringent performance and reliability standards involves rigorous validation against key design metrics in power integrity, RF performance, and signal integrity.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="power-integrity">Power Integrity<a href="#power-integrity" class="hash-link" aria-label="Direct link to Power Integrity" title="Direct link to Power Integrity">​</a></h3>
<p>The power integrity of the board is evaluated by monitoring the 3.3V rail ripple, which must remain at or below 50 mV peak-to-peak (mVpp) within a 20 MHz bandwidth. This criterion ensures stable power delivery to the microcontroller and peripherals, minimizing potential disruptions caused by voltage fluctuations. Additionally, the Switched-Mode Power Supply (SMPS) is required to achieve an efficiency of at least 85% under a 100 mA load, which is indicative of effective power management and reduced energy loss during operation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rf-performance">RF Performance<a href="#rf-performance" class="hash-link" aria-label="Direct link to RF Performance" title="Direct link to RF Performance">​</a></h3>
<p>The RF subsystem&#x27;s performance is assessed through two primary metrics:</p>
<ul>
<li>
<p><strong>Return Loss (S11)</strong>: The return loss must be ≤ –10 dB at 2.45 GHz, indicating that the majority of the incident power is being effectively transmitted through the antenna, with minimal reflection. This parameter is crucial for maximizing wireless communication efficiency and range.</p>
</li>
<li>
<p><strong>Radiated Power</strong>: In BLE transmission (Tx) mode, the board must achieve a radiated power of +3 dBm. This level of output power ensures sufficient signal strength for reliable communication within typical BLE operating ranges, balancing performance with power consumption.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="signal-integrity">Signal Integrity<a href="#signal-integrity" class="hash-link" aria-label="Direct link to Signal Integrity" title="Direct link to Signal Integrity">​</a></h3>
<p>Maintaining signal integrity is paramount for the reliable operation of high-speed interfaces:</p>
<ul>
<li>
<p><strong>USB Eye Diagram</strong>: The USB signals must comply with the USB 2.0 full-speed eye diagram mask, ensuring that the signal transitions are clean and free from excessive jitter or distortion. Compliance with this standard is essential for maintaining data transmission reliability and compatibility with USB peripherals.</p>
</li>
<li>
<p><strong>SWD Clock Jitter</strong>: The Serial Wire Debug (SWD) clock must exhibit jitter of ≤ 500 picoseconds (ps) at a frequency of 10 MHz. Low jitter is critical for accurate timing and synchronization during programming and debugging operations, preventing errors and ensuring precise control over the microcontroller.</p>
</li>
</ul>
<p>This documentation establishes a comprehensive and rigorous framework for replicating the STM32 WB55CEU-based Bluetooth board design. It emphasizes strict adherence to STM32 hardware guidelines (as detailed in AN5165) and incorporates best practices from KiCad 7 for mixed-signal layouts, thereby ensuring a high level of reliability, performance, and manufacturability in advanced PCB designs.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/CagriCatik/PCB-Design-with-KiCad/tree/edit/main/webpage/docs/09_projects/05_project-stm32/01_overview.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/PCB-Design-with-KiCad/docs/category/project-stm32"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Project: STM32</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/schematic"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">2. Schematic Design Basics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#11-board-features" class="table-of-contents__link toc-highlight">1.1 Board Features</a></li><li><a href="#12-tools" class="table-of-contents__link toc-highlight">1.2 Tools</a></li><li><a href="#13-design-flow" class="table-of-contents__link toc-highlight">1.3 Design Flow</a><ul><li><a href="#131-schematic-design" class="table-of-contents__link toc-highlight">1.3.1 Schematic Design</a></li><li><a href="#132-pcb-layout" class="table-of-contents__link toc-highlight">1.3.2 PCB Layout</a></li><li><a href="#133-manufacturing-pcbway" class="table-of-contents__link toc-highlight">1.3.3 Manufacturing (PCBWay)</a></li></ul></li><li><a href="#14-key-design-validation-metrics" class="table-of-contents__link toc-highlight">1.4 Key Design Validation Metrics</a><ul><li><a href="#power-integrity" class="table-of-contents__link toc-highlight">Power Integrity</a></li><li><a href="#rf-performance" class="table-of-contents__link toc-highlight">RF Performance</a></li><li><a href="#signal-integrity" class="table-of-contents__link toc-highlight">Signal Integrity</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">PCB Design with KiCad</div></div></div></footer></div>
</body>
</html>