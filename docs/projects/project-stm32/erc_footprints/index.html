<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-projects/project-stm32/erc_footprints" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">9. ERC &amp; Footprints | PCB Design with KiCad</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://CagriCatik.github.io/PCB-Design-with-KiCad/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://CagriCatik.github.io/PCB-Design-with-KiCad/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://CagriCatik.github.io/PCB-Design-with-KiCad/docs/projects/project-stm32/erc_footprints"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="9. ERC &amp; Footprints | PCB Design with KiCad"><meta data-rh="true" name="description" content="9.1 Electrical Rules Check (ERC)"><meta data-rh="true" property="og:description" content="9.1 Electrical Rules Check (ERC)"><link data-rh="true" rel="icon" href="/PCB-Design-with-KiCad/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://CagriCatik.github.io/PCB-Design-with-KiCad/docs/projects/project-stm32/erc_footprints"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/PCB-Design-with-KiCad/docs/projects/project-stm32/erc_footprints" hreflang="en"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/PCB-Design-with-KiCad/docs/projects/project-stm32/erc_footprints" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/PCB-Design-with-KiCad/blog/rss.xml" title="PCB Design with KiCad RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/PCB-Design-with-KiCad/blog/atom.xml" title="PCB Design with KiCad Atom Feed"><link rel="stylesheet" href="/PCB-Design-with-KiCad/assets/css/styles.524557fc.css">
<script src="/PCB-Design-with-KiCad/assets/js/runtime~main.b4b5935f.js" defer="defer"></script>
<script src="/PCB-Design-with-KiCad/assets/js/main.38b34101.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/PCB-Design-with-KiCad/"><div class="navbar__logo"><img src="/PCB-Design-with-KiCad/img/logo.png" alt="pcb logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/PCB-Design-with-KiCad/img/logo.png" alt="pcb logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"> </b></a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/getting_started/">Getting Started</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/pcb_design/what-is-a-pcb">PCB Design</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/kicad/introduction">KiCad</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/schematic-design/introduction">Schematic</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/layout/introduction">Layout</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/design_principles/introduction">Design Principles</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/category/schematic">Design Workflow</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/symbols_eeschema/custom-symbols">Symbols Eeschema</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/footprints_pcbnew/board-setup">Footprints Pcbnew</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/PCB-Design-with-KiCad/docs/projects/getting-started">Projects</a><a class="navbar__item navbar__link" href="/PCB-Design-with-KiCad/docs/recipes/getting-started">Recipes</a><a href="https://github.com/CagriCatik/PCB-Design-with-KiCad" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PCB-Design-with-KiCad/docs/projects/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/PCB-Design-with-KiCad/docs/category/project-voltage-regulator">Project: Voltage Regulator</a><button aria-label="Expand sidebar category &#x27;Project: Voltage Regulator&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/PCB-Design-with-KiCad/docs/category/project-mcu-datalogger">Project: MCU Datalogger</a><button aria-label="Expand sidebar category &#x27;Project: MCU Datalogger&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/PCB-Design-with-KiCad/docs/category/project-breadboard-power-supply">Project: Breadboard Power Supply</a><button aria-label="Expand sidebar category &#x27;Project: Breadboard Power Supply&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/PCB-Design-with-KiCad/docs/category/project-esp32">Project: ESP32</a><button aria-label="Expand sidebar category &#x27;Project: ESP32&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/PCB-Design-with-KiCad/docs/category/project-stm32">Project: STM32</a><button aria-label="Collapse sidebar category &#x27;Project: STM32&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/overview">1. Project Overview &amp; Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/schematic">2. Schematic Design Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/stm32">3. STM32 WB55 Microcontroller Power Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/rf_design">4. RF Section Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/oscillator">5. Oscillators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/programming_debugging">6. Programming &amp; Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/usb-c">7. USB-C Power &amp; Data Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/peripherials">peripherials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/erc_footprints">9. ERC &amp; Footprints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/net_classes">10. Net Classes &amp; BOM</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/PCB-Design-with-KiCad/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/PCB-Design-with-KiCad/docs/category/project-stm32"><span itemprop="name">Project: STM32</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">9. ERC &amp; Footprints</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>9. ERC &amp; Footprints</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="91-electrical-rules-check-erc">9.1 Electrical Rules Check (ERC)<a href="#91-electrical-rules-check-erc" class="hash-link" aria-label="Direct link to 9.1 Electrical Rules Check (ERC)" title="Direct link to 9.1 Electrical Rules Check (ERC)">​</a></h2>
<p>The Electrical Rules Check (ERC) is an essential validation process in PCB design, ensuring the logical and electrical integrity of the schematic before proceeding to layout and manufacturing. ERC enforces consistency and detects potential errors that could compromise the functionality of the final PCB. The STM32 WB55CEU-based design employs ERC within KiCad to identify and rectify issues related to unconnected pins, power net assignments, and overall schematic coherence.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="911-unconnected-pin-resolution">9.1.1 Unconnected Pin Resolution<a href="#911-unconnected-pin-resolution" class="hash-link" aria-label="Direct link to 9.1.1 Unconnected Pin Resolution" title="Direct link to 9.1.1 Unconnected Pin Resolution">​</a></h3>
<p>Unconnected pins in a schematic can lead to unintended behaviors, such as floating inputs or outputs, which may cause erratic circuit operation. KiCad&#x27;s ERC functionality flags any pins that are not connected to a net, including unused General-Purpose Input/Output (GPIO) pins or No Connect (NC) pins.</p>
<ul>
<li>
<p><strong>Detection:</strong> During the ERC process, KiCad identifies all pins that lack net connections. These include GPIOs that are not utilized in the current design and designated NC pins that are intentionally left floating.</p>
</li>
<li>
<p><strong>Mitigation:</strong> To address unconnected pins, the following strategies are employed:</p>
<ul>
<li>
<p><strong>No Connect Flags:</strong> For pins that are intentionally left unconnected, the <code>No Connect</code> (NC) flag is applied by selecting the pin and pressing the <code>Q</code> key. This action informs the ERC tool that the floating pin is intentional, thereby preventing unnecessary warnings.</p>
</li>
<li>
<p><strong>Explicit Labeling:</strong> Non-Bill of Materials (BOM) test points or debug headers are explicitly labeled to ensure clarity. This labeling assists in distinguishing between intentional and accidental unconnected pins, enhancing the schematic&#x27;s readability and maintainability.</p>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="912-power-flag-implementation">9.1.2 Power Flag Implementation<a href="#912-power-flag-implementation" class="hash-link" aria-label="Direct link to 9.1.2 Power Flag Implementation" title="Direct link to 9.1.2 Power Flag Implementation">​</a></h3>
<p>Properly assigning power flags is crucial for resolving ERC errors related to undriven power pins and ensuring that all power domains are correctly referenced within the schematic.</p>
<ul>
<li>
<p><strong>Global Power Nets:</strong> Global power nets such as <code>+3V3</code>, <code>+5V</code>, and <code>GND</code> are assigned <code>PWR_FLAG</code> symbols. These flags inform the ERC tool that these nets are valid power sources, eliminating errors related to undriven power pins.</p>
</li>
<li>
<p><strong>Domain-Specific Flags:</strong> In mixed-signal designs, it is essential to isolate different power domains to prevent noise coupling between analog and digital circuits. Domain-specific power flags are assigned to nets such as <code>AVDD</code>, <code>AGND</code> for analog supplies, and <code>DVDD</code>, <code>DGND</code> for digital supplies. This isolation is critical for maintaining signal integrity and minimizing electromagnetic interference (EMI) within the PCB.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="92-footprint-assignment">9.2 Footprint Assignment<a href="#92-footprint-assignment" class="hash-link" aria-label="Direct link to 9.2 Footprint Assignment" title="Direct link to 9.2 Footprint Assignment">​</a></h2>
<p>Accurate footprint assignment ensures that each schematic symbol is correctly represented in the physical PCB layout, facilitating manufacturability and assembly accuracy. The STM32 WB55CEU design meticulously assigns footprints to all components, adhering to IPC-7351A standards for footprint reliability and compliance.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="921-passive-components">9.2.1 Passive Components<a href="#921-passive-components" class="hash-link" aria-label="Direct link to 9.2.1 Passive Components" title="Direct link to 9.2.1 Passive Components">​</a></h3>
<p>Passive components, including resistors and capacitors, are fundamental to the circuit&#x27;s functionality. Their footprints are selected based on size, package type, and manufacturing tolerances.</p>
<ul>
<li>
<p><strong>0402 Resistors/Capacitors:</strong></p>
<ul>
<li>
<p><strong>Footprint:</strong> The footprint used is <code>Resistor_SMD:R_0402_1005Metric</code>, which features pad dimensions of 1.0 × 0.5 mm. This footprint accommodates the 0402-sized Surface-Mount Device (SMD) resistors and capacitors, ensuring precise placement and solder joint reliability.</p>
</li>
<li>
<p><strong>Design Rules:</strong> Adherence to design rules is critical for preventing soldering defects and ensuring component alignment.</p>
<ul>
<li>
<p><strong>Solder Mask Expansion:</strong> A solder mask expansion of 0.05 mm is applied around the pads to ensure adequate solder coverage and joint formation.</p>
</li>
<li>
<p><strong>Pad Spacing:</strong> The spacing between pads is maintained at 0.5 mm (edge-to-edge) to prevent shorts and facilitate proper soldering during assembly.</p>
</li>
</ul>
</li>
<li>
<p><strong>Assembly:</strong> Components are assembled using a laser-cut stencil with a thickness of 0.12 mm, compatible with Type 4 solder paste characterized by a particle size of 20–38 µm. This combination ensures precise solder paste deposition and reliable solder joint formation during the reflow process.</p>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="922-crystals">9.2.2 Crystals<a href="#922-crystals" class="hash-link" aria-label="Direct link to 9.2.2 Crystals" title="Direct link to 9.2.2 Crystals">​</a></h3>
<p>Crystals are critical for oscillator circuits, providing the necessary frequency stability for microcontroller operations. Proper footprint selection and placement are essential for oscillator performance.</p>
<ul>
<li>
<p><strong>32 MHz (NX3225GD):</strong></p>
<ul>
<li>
<p><strong>Footprint:</strong> The footprint <code>Crystal_SMD_2016-4Pin_2.0x1.6mm</code> is utilized, featuring 0.3 × 0.9 mm rectangular pads with a 0.2 mm solder mask relief. This footprint accommodates the physical dimensions of the NX3225GD-32M crystal, ensuring precise alignment with the MCU&#x27;s oscillator pins.</p>
</li>
<li>
<p><strong>Pad Geometry:</strong> The rectangular pad design facilitates optimal solder joint formation, enhancing electrical connectivity and mechanical stability.</p>
</li>
<li>
<p><strong>Placement:</strong> The crystal is placed within ≤15 mm of the MCU&#x27;s OSC_IN and OSC_OUT pins to minimize trace inductance and maintain signal integrity. Proximity reduces the likelihood of signal degradation and ensures accurate frequency generation.</p>
</li>
</ul>
</li>
<li>
<p><strong>32.768 kHz (NX2012SA):</strong></p>
<ul>
<li>
<p><strong>Footprint:</strong> The <code>Crystal_SMD_2012-4Pin_2.0x1.2mm</code> footprint is assigned, tailored to the smaller tuning-fork NX2012SA-32.768K crystal. This footprint ensures proper alignment and connectivity with the RTC and low-power modes of the MCU.</p>
</li>
<li>
<p><strong>Load Capacitors:</strong> A pair of 12 pF C0G (0402, ±0.25 pF tolerance) capacitors are integrated into the footprint design to match the crystal&#x27;s load capacitance requirements. These capacitors stabilize the oscillator circuit, ensuring reliable and precise timekeeping.</p>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="923-connectors">9.2.3 Connectors<a href="#923-connectors" class="hash-link" aria-label="Direct link to 9.2.3 Connectors" title="Direct link to 9.2.3 Connectors">​</a></h3>
<p>Connectors facilitate communication and power transfer between the PCB and external devices. Their footprints must accommodate mechanical and electrical specifications to ensure robust performance.</p>
<ul>
<li>
<p><strong>USB-C (GCT_USB4105):</strong></p>
<ul>
<li>
<p><strong>Footprint:</strong> The <code>USB_C_Receptacle_GCT_USB4105</code> footprint measures 8.6 × 3.0 mm, aligning with the physical dimensions of the GCT_USB4105 USB-C receptacle. This footprint ensures secure mechanical mounting and reliable electrical connections.</p>
</li>
<li>
<p><strong>Critical Features:</strong></p>
<ul>
<li>
<p><strong>VBUS PTH Pads:</strong> These pads are sized at 1.2 × 0.6 mm and feature plated through-holes (PTH) with a 0.1 mm annular ring. This design facilitates robust electrical connections and mechanical stability, accommodating the high current demands of USB power delivery.</p>
</li>
<li>
<p><strong>D+/D– SMD Pads:</strong> The differential data lines D+ and D– are routed to 0.8 × 0.3 mm SMD pads that are non-soldermask-defined. This configuration ensures precise impedance control and minimizes signal reflections, essential for high-speed data transmission.</p>
</li>
</ul>
</li>
<li>
<p><strong>Compliance:</strong> The footprint design adheres to USB-IF TID 6200 standards, ensuring a retention force of ≥5 N. This compliance guarantees that the USB-C connector maintains secure mechanical connections under repeated insertion and removal cycles, enhancing the durability of the PCB.</p>
</li>
</ul>
</li>
<li>
<p><strong>UFL (Hirose U.FL-LP-066):</strong></p>
<ul>
<li>
<p><strong>Footprint:</strong> The <code>U.FL_Hirose_U.FL-LP-066</code> footprint measures 1.6 × 1.2 mm, designed to accommodate the Hirose U.FL-LP-066 connector. This compact footprint ensures efficient use of PCB space while maintaining reliable high-frequency signal transmission.</p>
</li>
<li>
<p><strong>Grounding:</strong> An array of four 0.3 mm vias arranged at a 0.5 mm pitch surrounds the signal pad. This via array provides a low-impedance RF return path, enhancing signal integrity and reducing electromagnetic interference (EMI).</p>
</li>
</ul>
</li>
<li>
<p><strong>Tag Connect (TC2050-IDC-NL):</strong></p>
<ul>
<li>
<p><strong>Footprint:</strong> The Tag Connect interface utilizes non-Bill of Materials (non-BOM) alignment posts with 1.0 mm PTH, ensuring precise mechanical alignment and reliable electrical connections during programming and debugging.</p>
</li>
<li>
<p><strong>SWD Pads:</strong> The SWDIO and SWCLK lines are connected to 0.6 × 0.6 mm SMD pads, which are edge-coupled to the MCU&#x27;s SWDIO and SWCLK pins. This configuration ensures minimal inductance and capacitance, preserving signal integrity for high-speed debugging operations.</p>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="93-validation--compliance">9.3 Validation &amp; Compliance<a href="#93-validation--compliance" class="hash-link" aria-label="Direct link to 9.3 Validation &amp; Compliance" title="Direct link to 9.3 Validation &amp; Compliance">​</a></h2>
<p>Ensuring that the PCB design meets all electrical and mechanical specifications is critical for achieving reliable and manufacturable PCBs. The STM32 WB55CEU-based design undergoes rigorous validation and compliance checks to adhere to industry standards and design guidelines.</p>
<ul>
<li>
<p><strong>ERC Report:</strong></p>
<ul>
<li>
<p><strong>Unconnected Pins:</strong> The ERC report must indicate zero unconnected pins, excluding those intentionally flagged with <code>No Connect</code>. This ensures that all functional pins are properly connected and that there are no unintended floating nodes that could lead to erratic behavior.</p>
</li>
<li>
<p><strong>Power Net Integrity:</strong> All power nets must be driven by valid power sources, such as Low Dropout Regulators (LDOs) and power supply units. This verification ensures that no power pins are left floating, maintaining stable voltage levels across the PCB.</p>
</li>
</ul>
</li>
<li>
<p><strong>Footprint Audit:</strong></p>
<ul>
<li>
<p><strong>IPC-7351 Compliance:</strong> Footprints are audited for compliance with IPC-7351A standards, which dictate precise component toe and fillet dimensions. Specifically:</p>
<ul>
<li>
<p><strong>Component Toe/Fillet:</strong> A solder joint extension of 0.05 mm is maintained to ensure robust mechanical and electrical connections.</p>
</li>
<li>
<p><strong>Courtyard Clearance:</strong> A minimum clearance of 0.25 mm beyond the component body is enforced to prevent solder bridging and ensure sufficient spacing between components.</p>
</li>
</ul>
</li>
<li>
<p><strong>3D Model Clearance:</strong> In the 3D model verification process, a clearance of ≥0.2 mm is maintained between the tallest components, such as USB-C and UFL connectors. This clearance prevents mechanical interference during assembly and ensures that components fit within the designated PCB area without obstruction.</p>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="94-critical-design-metrics">9.4 Critical Design Metrics<a href="#94-critical-design-metrics" class="hash-link" aria-label="Direct link to 9.4 Critical Design Metrics" title="Direct link to 9.4 Critical Design Metrics">​</a></h2>
<p>Adhering to critical design metrics is essential for ensuring the manufacturability and operational reliability of the PCB. The STM32 WB55CEU-based design incorporates stringent adherence to placement accuracy, reflow profiles, and component tolerance specifications.</p>
<ul>
<li>
<p><strong>0402 Passives:</strong></p>
<ul>
<li>
<p><strong>Placement Accuracy:</strong> Passive components in the 0402 package must be placed with an accuracy of ±0.1 mm using pick-and-place machines. Precise placement ensures alignment with PCB traces and prevents solder bridging.</p>
</li>
<li>
<p><strong>Reflow Profile:</strong> The soldering process follows a reflow profile with a peak temperature of 245°C and maintains 60 seconds above 217°C. This profile is optimized for SAC305 solder paste, ensuring reliable solder joint formation without thermal stress that could damage components.</p>
</li>
</ul>
</li>
<li>
<p><strong>Crystals:</strong></p>
<ul>
<li><strong>Frequency Tolerance:</strong> The 32 MHz crystal must exhibit a frequency tolerance of ±10 ppm, while the 32.768 kHz crystal must maintain a tolerance of ±20 ppm. These tolerances ensure accurate oscillator performance, critical for the microcontroller&#x27;s timing and real-time operations.</li>
</ul>
</li>
<li>
<p><strong>Connectors:</strong></p>
<ul>
<li><strong>USB-C Insertion Cycles:</strong> The USB-C connectors must withstand ≥10,000 insertion cycles as per IEC 60512-99-001 standards. This durability ensures long-term reliability in environments with frequent connector usage.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="95-conclusion">9.5 Conclusion<a href="#95-conclusion" class="hash-link" aria-label="Direct link to 9.5 Conclusion" title="Direct link to 9.5 Conclusion">​</a></h2>
<p>The ERC and footprint assignment processes are integral to the STM32 WB55CEU-based PCB design, ensuring both electrical integrity and manufacturability. By rigorously enforcing schematic consistency through ERC, accurately assigning component footprints in compliance with IPC-7351A standards, and adhering to critical design metrics, the design achieves a high level of reliability and performance. Comprehensive validation and adherence to industry standards ensure that the PCB is not only functionally robust but also manufacturable at scale, meeting the stringent requirements of commercial PCB assembly as outlined in IPC Class 2/A standards.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/CagriCatik/PCB-Design-with-KiCad/tree/edit/main/webpage/docs/09_projects/05_project-stm32/09_erc_footprints.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/peripherials"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">peripherials</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/PCB-Design-with-KiCad/docs/projects/project-stm32/net_classes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">10. Net Classes &amp; BOM</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#91-electrical-rules-check-erc" class="table-of-contents__link toc-highlight">9.1 Electrical Rules Check (ERC)</a><ul><li><a href="#911-unconnected-pin-resolution" class="table-of-contents__link toc-highlight">9.1.1 Unconnected Pin Resolution</a></li><li><a href="#912-power-flag-implementation" class="table-of-contents__link toc-highlight">9.1.2 Power Flag Implementation</a></li></ul></li><li><a href="#92-footprint-assignment" class="table-of-contents__link toc-highlight">9.2 Footprint Assignment</a><ul><li><a href="#921-passive-components" class="table-of-contents__link toc-highlight">9.2.1 Passive Components</a></li><li><a href="#922-crystals" class="table-of-contents__link toc-highlight">9.2.2 Crystals</a></li><li><a href="#923-connectors" class="table-of-contents__link toc-highlight">9.2.3 Connectors</a></li></ul></li><li><a href="#93-validation--compliance" class="table-of-contents__link toc-highlight">9.3 Validation &amp; Compliance</a></li><li><a href="#94-critical-design-metrics" class="table-of-contents__link toc-highlight">9.4 Critical Design Metrics</a></li><li><a href="#95-conclusion" class="table-of-contents__link toc-highlight">9.5 Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">PCB Design with KiCad</div></div></div></footer></div>
</body>
</html>