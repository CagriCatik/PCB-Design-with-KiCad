"use strict";(self.webpackChunkPCB_Design=self.webpackChunkPCB_Design||[]).push([[1713],{2633:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"projects/project-stm32/schematic","title":"2. Schematic Design Basics","description":"2.1 KiCad 7 Project Initialization","source":"@site/docs/09_projects/05_project-stm32/02_schematic.md","sourceDirName":"09_projects/05_project-stm32","slug":"/projects/project-stm32/schematic","permalink":"/PCB-Design-with-KiCad/docs/projects/project-stm32/schematic","draft":false,"unlisted":false,"editUrl":"https://github.com/CagriCatik/PCB-Design-with-KiCad/tree/edit/main/webpage/docs/09_projects/05_project-stm32/02_schematic.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"projectsSidebar","previous":{"title":"1. Project Overview & Setup","permalink":"/PCB-Design-with-KiCad/docs/projects/project-stm32/overview"},"next":{"title":"3. STM32 WB55 Microcontroller Power Architecture","permalink":"/PCB-Design-with-KiCad/docs/projects/project-stm32/stm32"}}');var s=n(4848),c=n(8453);const a={},r="2. Schematic Design Basics",o={},l=[{value:"2.1 KiCad 7 Project Initialization",id:"21-kicad-7-project-initialization",level:2},{value:"2.2 Schematic Component Placement",id:"22-schematic-component-placement",level:2},{value:"2.3 Electrical Connectivity",id:"23-electrical-connectivity",level:2},{value:"2.4 Hierarchical Schematic Organization",id:"24-hierarchical-schematic-organization",level:2},{value:"2.5 Design Rule Checks (DRC) and ERC",id:"25-design-rule-checks-drc-and-erc",level:2},{value:"2.6 Net Class Assignment",id:"26-net-class-assignment",level:2},{value:"2.7 Symbol-Footprint Association",id:"27-symbol-footprint-association",level:2},{value:"2.8 Version Control Integration",id:"28-version-control-integration",level:2},{value:"2.9 Advanced Shortcuts",id:"29-advanced-shortcuts",level:2},{value:"2.10 Best Practices",id:"210-best-practices",level:2}];function d(e){const i={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"2-schematic-design-basics",children:"2. Schematic Design Basics"})}),"\n",(0,s.jsx)(i.h2,{id:"21-kicad-7-project-initialization",children:"2.1 KiCad 7 Project Initialization"}),"\n",(0,s.jsxs)(i.p,{children:["The initiation of the schematic design process in KiCad 7 involves establishing a structured project environment to facilitate efficient development and management of the PCB design. The process begins with the creation of a new KiCad 7 project, which automatically generates essential project files, including ",(0,s.jsx)(i.code,{children:".kicad_pro"}),", ",(0,s.jsx)(i.code,{children:".kicad_sch"}),", and ",(0,s.jsx)(i.code,{children:".kicad_pcb"}),". These files serve as the foundational elements for the schematic, layout, and overall project configuration."]}),"\n",(0,s.jsxs)(i.p,{children:["Access to the Schematic Editor is streamlined through the schematic layout icon or the keyboard shortcut ",(0,s.jsx)(i.code,{children:"Ctrl+E"}),", enabling immediate entry into the design workspace. Configuring the canvas appropriately is crucial for maintaining alignment and precision. The default grid setting is established at 50 mil, which provides an optimal balance between component placement accuracy and ease of alignment. Users have the flexibility to switch between imperial (mil) and metric (millimeter) units using the ",(0,s.jsx)(i.code,{children:"Ctrl+U"})," shortcut, accommodating diverse design preferences and regional standards."]}),"\n",(0,s.jsx)(i.h2,{id:"22-schematic-component-placement",children:"2.2 Schematic Component Placement"}),"\n",(0,s.jsxs)(i.p,{children:["Component placement within the schematic editor is a critical step that demands meticulous attention to detail to ensure accurate representation and connectivity of the electronic circuit. KiCad 7 facilitates this through comprehensive symbol libraries, accessible via the ",(0,s.jsx)(i.code,{children:"A"})," key or the ",(0,s.jsx)(i.em,{children:"Add Symbol"})," tool. The core libraries encompass a wide range of components, including ",(0,s.jsx)(i.code,{children:"Device"}),", ",(0,s.jsx)(i.code,{children:"Power"}),", and STM32-specific symbols such as ",(0,s.jsx)(i.code,{children:"STM32 WB55CEUx"}),". For specialized components like the TDK DLP11SN021SK2 filter, custom symbols must be manually imported using the ",(0,s.jsx)(i.em,{children:"Symbol Editor"}),", ensuring that all unique attributes and pin configurations are accurately captured."]}),"\n",(0,s.jsxs)(i.p,{children:["Manipulation of components is facilitated through intuitive keyboard shortcuts. Rotation of symbols is achieved using the ",(0,s.jsx)(i.code,{children:"R"})," key, allowing for 90\xb0 increments, while mirroring can be performed horizontally or vertically with the ",(0,s.jsx)(i.code,{children:"Y"})," and ",(0,s.jsx)(i.code,{children:"X"})," keys, respectively. Editing component properties is straightforward; double-clicking a symbol opens the properties dialog, where users can modify the reference designator (e.g., ",(0,s.jsx)(i.code,{children:"U1"}),"), component value (e.g., ",(0,s.jsx)(i.code,{children:"100 nF"}),"), and link the symbol to its corresponding footprint. This ensures that each component is correctly identified and associated with its physical representation on the PCB."]}),"\n",(0,s.jsx)(i.h2,{id:"23-electrical-connectivity",children:"2.3 Electrical Connectivity"}),"\n",(0,s.jsx)(i.p,{children:"Establishing reliable electrical connectivity is paramount in schematic design to ensure the functional integrity of the PCB. KiCad 7 provides robust tools for drawing connections and managing signal integrity."}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsxs)(i.strong,{children:["Wire Tool (",(0,s.jsx)(i.code,{children:"W"}),")"]})," is employed to create electrical connections between component pins. As wires intersect, KiCad automatically generates junctions, which visually indicate connected nets. Ambiguous connections, where junctions are unclear or incomplete, trigger Electrical Rules Check (ERC) warnings, prompting the designer to resolve potential connectivity issues."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsxs)(i.strong,{children:["Net Labels (",(0,s.jsx)(i.code,{children:"L"}),")"]})," serve as logical identifiers for electrical nets, replacing explicit wiring with meaningful names such as ",(0,s.jsx)(i.code,{children:"USB_D+"})," or ",(0,s.jsx)(i.code,{children:"RF_OUT"}),". This abstraction not only enhances readability but also simplifies the management of complex circuits by allowing hierarchical propagation of signals across multiple subsheets. ",(0,s.jsx)(i.strong,{children:"Hierarchical labels"})," facilitate the seamless transmission of signals between different functional blocks, maintaining consistency and continuity throughout the schematic."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsxs)(i.strong,{children:["Power Symbols (",(0,s.jsx)(i.code,{children:"P"}),")"]})," are designated for global power nets, including ",(0,s.jsx)(i.code,{children:"+3V3"}),", ",(0,s.jsx)(i.code,{children:"GND"}),", and ",(0,s.jsx)(i.code,{children:"+5V"}),". For integrated circuits requiring specific supply domains, ",(0,s.jsx)(i.code,{children:"VDD"})," and ",(0,s.jsx)(i.code,{children:"VSS"})," symbols are used to denote distinct power rails (e.g., ",(0,s.jsx)(i.code,{children:"VDD_RF"}),"). This differentiation is critical for segregating digital and analog power domains, thereby minimizing noise coupling and enhancing overall power integrity."]}),"\n",(0,s.jsx)(i.h2,{id:"24-hierarchical-schematic-organization",children:"2.4 Hierarchical Schematic Organization"}),"\n",(0,s.jsxs)(i.p,{children:["Organizing the schematic into hierarchical structures enhances modularity, readability, and manageability, particularly in complex designs. ",(0,s.jsx)(i.strong,{children:"Subsheets"})," are utilized to divide the schematic into distinct functional blocks such as ",(0,s.jsx)(i.em,{children:"Power"}),", ",(0,s.jsx)(i.em,{children:"RF"}),", and ",(0,s.jsx)(i.em,{children:"USB"}),". This division is achieved using the ",(0,s.jsx)(i.em,{children:"Hierarchical Sheet"})," tool (",(0,s.jsx)(i.code,{children:"Ctrl+H"}),"), allowing designers to encapsulate related components and connections within dedicated sections."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Hierarchical Pins"})," are defined as input and output ports (e.g., ",(0,s.jsx)(i.code,{children:"VBUS_IN"}),", ",(0,s.jsx)(i.code,{children:"BLE_TX"}),") to facilitate cross-sheet connectivity. It is imperative that port names are precisely matched across interconnected subsheets to preserve net continuity and ensure accurate signal propagation. This structured approach not only simplifies the schematic but also enhances collaboration by delineating functional boundaries within the design."]}),"\n",(0,s.jsx)(i.h2,{id:"25-design-rule-checks-drc-and-erc",children:"2.5 Design Rule Checks (DRC) and ERC"}),"\n",(0,s.jsxs)(i.p,{children:["Maintaining schematic integrity necessitates the implementation of rigorous validation processes. KiCad 7 incorporates ",(0,s.jsx)(i.strong,{children:"Electrical Rules Check (ERC)"})," to identify and rectify potential design flaws such as unconnected pins, conflicting outputs, or floating nets. The ERC parameters can be fine-tuned by configuring severity levels\u2014",(0,s.jsx)(i.em,{children:"Error"}),", ",(0,s.jsx)(i.em,{children:"Warning"}),", or ",(0,s.jsx)(i.em,{children:"Ignore"}),"\u2014within the ",(0,s.jsx)(i.em,{children:"ERC Settings"}),". This customization allows designers to prioritize critical issues and manage non-critical warnings effectively."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Annotations"})," play a crucial role in organizing and referencing components systematically. The ",(0,s.jsx)(i.em,{children:"Annotate Schematic"})," tool facilitates the global reassignment of reference designators, ensuring that components are labeled consistently and logically. Sorting components by positional hierarchy (e.g., ",(0,s.jsx)(i.code,{children:"R1"})," near ",(0,s.jsx)(i.code,{children:"U1"}),", ",(0,s.jsx)(i.code,{children:"C10"})," near ",(0,s.jsx)(i.code,{children:"U3"}),") enhances the schematic's clarity and navigability, making it easier to trace connections and identify components during the design review and debugging phases."]}),"\n",(0,s.jsx)(i.h2,{id:"26-net-class-assignment",children:"2.6 Net Class Assignment"}),"\n",(0,s.jsxs)(i.p,{children:["Assigning ",(0,s.jsx)(i.strong,{children:"Net Classes"})," is essential for defining PCB-specific routing constraints, particularly for critical signal paths that demand controlled impedance and specific clearance requirements. KiCad 7 allows designers to define classes such as ",(0,s.jsx)(i.code,{children:"RF"}),", ",(0,s.jsx)(i.code,{children:"USB"}),", and ",(0,s.jsx)(i.code,{children:"PWR"}),", each with tailored parameters to meet the design specifications."]}),"\n",(0,s.jsx)(i.p,{children:"For example:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"RF Class"}),": Configured with an impedance of 50\u03a9 and a clearance of 0.2mm, ensuring optimal signal integrity for high-frequency RF signals."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"USB Class"}),": Defined with differential pairs operating at 90\u03a9 impedance and a length tolerance of 5 mils, maintaining differential signaling integrity and minimizing signal skew."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["These assignments are executed via the ",(0,s.jsx)(i.em,{children:"Edit > Net Classes"})," menu, where designers can specify and manage the properties of each net class. This systematic categorization ensures that routing adheres to the necessary electrical standards, thereby enhancing the overall performance and reliability of the PCB."]}),"\n",(0,s.jsx)(i.h2,{id:"27-symbol-footprint-association",children:"2.7 Symbol-Footprint Association"}),"\n",(0,s.jsxs)(i.p,{children:["Accurate association between schematic symbols and physical footprints is critical for ensuring that the designed PCB accurately reflects the intended hardware configuration. ",(0,s.jsx)(i.strong,{children:"Footprint Assignment"})," involves linking each schematic symbol to its corresponding physical footprint, such as associating the ",(0,s.jsx)(i.code,{children:"STM32 WB55CEU"})," symbol with the ",(0,s.jsx)(i.code,{children:"QFN-48_7x7mm_P0.5mm"})," footprint. This linkage is efficiently managed using the ",(0,s.jsx)(i.em,{children:"Assign Footprints"})," tool (",(0,s.jsx)(i.code,{children:"Ctrl+Shift+F"}),"), which supports bulk assignments to streamline the process."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"3D Model Integration"})," enhances the verification and visualization of component placement and clearances. By attaching STEP files through the ",(0,s.jsx)(i.em,{children:"Footprint Properties > 3D Models"})," interface, designers can leverage the KiCad 3D Viewer to inspect component arrangements and identify potential mechanical conflicts. This step is pivotal for ensuring that all components fit within the designated PCB area and that there is sufficient clearance between adjacent parts, thereby preventing assembly issues and facilitating accurate fabrication."]}),"\n",(0,s.jsx)(i.h2,{id:"28-version-control-integration",children:"2.8 Version Control Integration"}),"\n",(0,s.jsxs)(i.p,{children:["Integrating ",(0,s.jsx)(i.strong,{children:"Version Control Systems"})," such as Git is indispensable for managing schematic revisions and collaborative design efforts. Tracking changes in schematic files (",(0,s.jsx)(i.code,{children:".kicad_sch"})," and ",(0,s.jsx)(i.code,{children:".kicad_pro"}),") enables designers to maintain a history of modifications, facilitating rollback to previous states if necessary. To ensure a clean and efficient repository, it is recommended to exclude transient files such as autosaves (",(0,s.jsx)(i.code,{children:".000"}),", ",(0,s.jsx)(i.code,{children:".bak"}),") and cache files (",(0,s.jsx)(i.code,{children:".kicad_wks"}),") from commits. This exclusion prevents unnecessary clutter and reduces repository size, maintaining focus on the critical design files."]}),"\n",(0,s.jsx)(i.h2,{id:"29-advanced-shortcuts",children:"2.9 Advanced Shortcuts"}),"\n",(0,s.jsxs)(i.p,{children:["Proficiency in using ",(0,s.jsx)(i.strong,{children:"Advanced Shortcuts"})," within KiCad 7 significantly enhances design efficiency and workflow. Key navigation shortcuts include:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Pan"}),": Executed via middle mouse drag or ",(0,s.jsx)(i.code,{children:"Ctrl+Arrow"}),", allowing seamless movement across the schematic canvas."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Zoom"}),": Controlled using ",(0,s.jsx)(i.code,{children:"Ctrl+Mouse Wheel"})," or the ",(0,s.jsx)(i.code,{children:"+"}),"/",(0,s.jsx)(i.code,{children:"-"})," keys, enabling precise adjustments to view detailed sections or the overall schematic."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["For editing tasks, shortcuts such as ",(0,s.jsx)(i.strong,{children:"Duplicate"})," (",(0,s.jsx)(i.code,{children:"Ctrl+D"})," + drag) facilitate rapid replication of components, while ",(0,s.jsx)(i.strong,{children:"Align"})," (",(0,s.jsx)(i.code,{children:"Ctrl+Shift+A"}),") ensures uniform horizontal or vertical distribution of selected elements. Mastery of these shortcuts contributes to a more streamlined and productive design process, reducing the time spent on repetitive tasks and allowing designers to focus on critical aspects of the schematic."]}),"\n",(0,s.jsx)(i.h2,{id:"210-best-practices",children:"2.10 Best Practices"}),"\n",(0,s.jsxs)(i.p,{children:["Adhering to ",(0,s.jsx)(i.strong,{children:"Best Practices"})," in schematic design is fundamental to achieving a high-quality and maintainable PCB layout. Key best practices include:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Naming Conventions"}),": Utilizing descriptive prefixes for nets (e.g., ",(0,s.jsx)(i.code,{children:"RF_"}),", ",(0,s.jsx)(i.code,{children:"USB_"}),", ",(0,s.jsx)(i.code,{children:"SWD_"}),") enhances readability and facilitates easier identification of signal groups. Differentiating power domains with specific identifiers (e.g., ",(0,s.jsx)(i.code,{children:"+3V3_DIG"}),", ",(0,s.jsx)(i.code,{children:"+3V3_ANA"}),") ensures clear segregation of digital and analog power supplies, minimizing interference and enhancing power integrity."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Decoupling Strategy"}),": Implementing an effective decoupling strategy is essential for minimizing noise and ensuring stable power delivery to integrated circuits. Placement of 100 nF Multilayer Ceramic Capacitors (MLCCs) within 2mm of IC power pins reduces high-frequency noise and transient voltage spikes. Additionally, positioning bulk capacitors (e.g., 4.7 \xb5F) near voltage regulators stabilizes the power supply, mitigating voltage fluctuations and enhancing overall circuit reliability."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"This methodology not only ensures schematic integrity but also aligns with KiCad 7\u2019s capabilities, providing a robust foundation for the subsequent PCB layout stages. By following these best practices, designers can achieve optimized performance, enhanced signal integrity, and streamlined manufacturability in their PCB designs."})]})}function h(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>r});var t=n(6540);const s={},c=t.createContext(s);function a(e){const i=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(c.Provider,{value:i},e.children)}}}]);